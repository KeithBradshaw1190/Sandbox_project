{"remainingRequest":"/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/node_modules/babel-loader/lib/index.js!/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/src/components/AddBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/src/components/AddBook.vue","mtime":1613514582298},{"path":"/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/keith.bradshaw/Documents/projects/pl_frontend/private_location_app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRCb29rIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9va05hbWU6ICIiLAogICAgICBzaG9ydERlc2NyaXB0aW9uOiAiIiwKICAgICAgcmF0aW5nOiA1LAogICAgICBhbGxvd0VkaXQ6IGZhbHNlLAogICAgICBib29rRXhpc3Q6IGZhbHNlLAogICAgICBsaWtlczogMCwKICAgICAgZXJyb3I6IGZhbHNlLAogICAgICBtZXNzYWdlOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGFkZEJvb2s6IGZ1bmN0aW9uIGFkZEJvb2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5lcnJvciAhPSB0cnVlICYmIHRoaXMuYm9va05hbWUgIT0gIiIgJiYgdGhpcy5zaG9ydERlc2NyaXB0aW9uICE9ICIiKSB7CiAgICAgICAgY29uc29sZS5sb2coIkFkZGluZyBib29rcyIpOwogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMy9hcGkvYm9vayIsIHsKICAgICAgICAgIGJvb2tOYW1lOiB0aGlzLmJvb2tOYW1lLAogICAgICAgICAgc2hvcnREZXNjcmlwdGlvbjogdGhpcy5zaG9ydERlc2NyaXB0aW9uLAogICAgICAgICAgcmF0aW5nOiB0aGlzLnJhdGluZywKICAgICAgICAgIGxpa2VzOiB0aGlzLmxpa2VzLAogICAgICAgICAgYWxsb3dFZGl0OiB0aGlzLmFsbG93RWRpdAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5tZXNzYWdlID0gIkJvb2sgQWRkZWQgU3VjY2Vzc2Z1bGx5IjsKICAgICAgICAgICAgY29uc29sZS5sb2coIkJvb2sgQWRkZWQgc3VjY2Vzc2Z1bGx5OiAiICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwoKICAgICAgICAgICAgX3RoaXMuJHRvYXN0KF90aGlzLm1lc3NhZ2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9ICJFcnJvIjsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMuYm9va0V4aXN0ID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy5lcnJvciA9IHRydWU7CiAgICAgICAgICBfdGhpcy5tZXNzYWdlID0gZS5tZXNzYWdlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBvY2N1cnJlZCB3aGVuIGFkZGluZyBib29rIik7CiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7CiAgICAgIH0KICAgIH0gLy8gY2hlY2tCb29rRXhpc3RzKCkgewogICAgLy8gICBheGlvcyh7CiAgICAvLyAgICAgbWV0aG9kOiAiZ2V0IiwKICAgIC8vICAgICB1cmw6ICJodHRwOi8vbG9jYWxob3N0OjMwMDMvYXBpL2Jvb2tzIiwKICAgIC8vICAgICBwYXJhbXM6IHsKICAgIC8vICAgICAgIGJvb2tOYW1lOiB0aGlzLmJvb2tOYW1lLAogICAgLy8gICAgIH0sCiAgICAvLyAgIH0pCiAgICAvLyAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAvLyAgICAgICBpZiAocmVzcG9uc2UuYm9va0V4aXN0KSB7CiAgICAvLyAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgLy8gICAgICAgICB0aGlzLmJvb2tFeGlzdD10cnVlCiAgICAvLyAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gIkl0IGxvb2tzIGxpa2UgdGhpcyBib29rIGFscmVhZHkgZXhpc3RzLCB5b3UgY2FuIHZpZXcgaXQgaGVyZTogIjsKICAgIC8vICAgICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZTsKICAgIC8vICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBudWxsOwogICAgLy8gICAgICAgICB0aGlzLmJvb2tFeGlzdD1mYWxzZQogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICB0aGlzLmJvb2tFeGlzdCA9IGZhbHNlOwogICAgLy8gICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlLm1lc3NhZ2U7CiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAoKICB9Cn07"},{"version":3,"sources":["AddBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,CAHA;AAIA,MAAA,SAAA,EAAA,KAJA;AAKA,MAAA,SAAA,EAAA,KALA;AAMA,MAAA,KAAA,EAAA,CANA;AAOA,MAAA,KAAA,EAAA,KAPA;AAQA,MAAA,OAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAdA,qBAcA,CAAA,CAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAEA,UACA,KAAA,KAAA,IAAA,IAAA,IACA,KAAA,QAAA,IAAA,EADA,IAEA,KAAA,gBAAA,IAAA,EAHA,EAIA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,cAAA;AACA,QAAA,KAAA,CACA,IADA,CACA,gCADA,EACA;AACA,UAAA,QAAA,EAAA,KAAA,QADA;AAEA,UAAA,gBAAA,EAAA,KAAA,gBAFA;AAGA,UAAA,MAAA,EAAA,KAAA,MAHA;AAIA,UAAA,KAAA,EAAA,KAAA,KAJA;AAKA,UAAA,SAAA,EAAA,KAAA;AALA,SADA,EAQA,IARA,CAQA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,yBAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,8BAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,IAAA,CAAA;;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,OAAA;AAEA,WALA,MAKA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA;AACA,SAjBA,EAkBA,KAlBA,CAkBA,UAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,CAAA,CAAA,OAAA;AACA,SAtBA;AAuBA,OA7BA,MA6BA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,iCAAA;AACA,aAAA,KAAA,GAAA,IAAA;AACA;AACA,KApCA,CAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AA9DA;AAfA,CAAA","sourcesContent":["<template>\n  <div class=\"user-create\">\n    <div class=\"cover-container d-flex h-100 p-3 mx-auto flex-column\">\n      <main role=\"main\" class=\"inner cover\">\n        <h1 class=\"cover-heading\">Add your favourite book</h1>\n        <p class=\"lead\">Add a book reccomendation to the list!</p>\n        <div class=\"container py-5\">\n          <div class=\"row\">\n            <div class=\"col-lg-7 mx-auto\">\n              <div class=\"bg-white rounded-lg shadow-sm p-5\">\n                <div class=\"container\">\n                  <div>\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"30\"\n                      height=\"30\"\n                      fill=\"currentColor\"\n                      class=\"bi bi-book-fill\"\n                      viewBox=\"0 0 16 16\"\n                    >\n                      <path\n                        d=\"M8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z\"\n                      />\n                    </svg>\n                    <form role=\"form\">\n                      <div class=\"form-group\">\n                        <label for=\"username\">Book Name</label>\n                        <input\n                          type=\"text\"\n                          name=\"bookName\"\n                          placeholder=\"Harry Potter and the Philosopher's Stone\"\n                          required\n                          class=\"form-control\"\n                          v-model=\"bookName\"\n                        />\n                      </div>\n                      <div class=\"form-group\">\n                        <label for=\"description\">Short description</label>\n                        <div class=\"input-group\">\n                          <input\n                            type=\"text\"\n                            name=\"description\"\n                            placeholder=\"Short Description\"\n                            class=\"form-control\"\n                            required\n                            v-model=\"shortDescription\"\n                          />\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-sm-8\">\n                          <div class=\"form-group\">\n                            <label\n                              ><span class=\"hidden-xs\">Star Rating</span></label\n                            >\n                            <div class=\"input-group\">\n                              <select\n                                id=\"inputState\"\n                                class=\"form-control\"\n                                type=\"number\"\n                                v-model.number=\"rating\"\n                              >\n                                <option value=\"5\" selected>5</option>\n                                <option value=\"4\">4</option>\n                                <option value=\"3\">3</option>\n                                <option value=\"2\">2</option>\n                                <option value=\"1\">1</option>\n                              </select>\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"col-sm-4\">\n                          <div class=\"form-group mb-4\">\n                            <div class=\"custom-control custom-switch\">\n                              <input\n                                type=\"checkbox\"\n                                class=\"custom-control-input\"\n                                id=\"editSwitch\"\n                                v-model=\"allowEdit\"\n                              />\n                              <label\n                                class=\"custom-control-label\"\n                                for=\"editSwitch\"\n                                >Allow Others to Edit</label\n                              >\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <button\n                        type=\"button\"\n                        class=\"subscribe btn btn-primary btn-block rounded-pill shadow-sm\"\n                        v-on:click=\"addBook()\"\n                      >\n                        Add Book\n                      </button>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"AddBook\",\n  data() {\n    return {\n      bookName: \"\",\n      shortDescription: \"\",\n      rating: 5,\n      allowEdit: false,\n      bookExist: false,\n      likes: 0,\n      error: false,\n      message: null,\n    };\n  },\n  created() {},\n  methods: {\n    addBook() {\n\n      if (\n        this.error != true &&\n        this.bookName != \"\" &&\n        this.shortDescription != \"\"\n      ) {\n        console.log(\"Adding books\");\n        axios\n          .post(\"http://localhost:3003/api/book\", {\n            bookName: this.bookName,\n            shortDescription: this.shortDescription,\n            rating: this.rating,\n            likes: this.likes,\n            allowEdit: this.allowEdit,\n          })\n          .then((response) => {\n              if(response.status==200){\n                  this.message=\"Book Added Successfully\"\n                  console.log(\"Book Added successfully: \"+ JSON.stringify(response.data));\n                  this.$toast(this.message);\n\n              }else{\n                this.message=\"Erro\"\n              }\n          })\n          .catch((e) => {\n            this.bookExist = false;\n            this.error = true;\n            this.message = e.message;\n          });\n      } else {\n        console.log(\"Error occurred when adding book\");\n        this.error = true;\n      }\n    },\n    // checkBookExists() {\n    //   axios({\n    //     method: \"get\",\n    //     url: \"http://localhost:3003/api/books\",\n    //     params: {\n    //       bookName: this.bookName,\n    //     },\n    //   })\n    //     .then((response) => {\n    //       console.log(response);\n    //       if (response.bookExist) {\n    //         this.error = true;\n    //         this.bookExist=true\n    //         this.errorMessage = \"It looks like this book already exists, you can view it here: \";\n    //       } else {\n    //         this.error = false;\n    //         this.errorMessage = null;\n    //         this.bookExist=false\n\n    //       }\n    //     })\n    //     .catch((e) => {\n    //       this.bookExist = false;\n    //       this.errorMessage = e.message;\n    //     });\n    // },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"],"sourceRoot":"src/components"}]}